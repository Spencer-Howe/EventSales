{% extends "base.html" %}

{% block title %}Select Tickets{% endblock %}

{% block content %}
  <div class="text-center mt-3">
    <span>&uarr; Swipe for More &darr;</span>
  </div>
  <div class="container my-4">
    <h2 class="text-center mb-4">Upcoming Events</h2>

    <!-- Using Bootstrap's card-group to ensure all cards are handled uniformly -->
    <div class="card-group">

      <!-- Card 3: Winter Wonderland -->
      <div class="card border-danger" style="background: linear-gradient(135deg, #f8f9fa 0%, #e3f2fd 100%);">
        <img src="static/pic/25notimewonder.png" class="card-img-top" alt="Winter Wonderland at Howe Ranch" style="border-bottom: 3px solid #dc3545;">
        <div class="card-body">
          <h5 class="card-title text-danger" style="font-family: 'serif'; text-shadow: 1px 1px 2px rgba(0,0,0,0.1);">â„ï¸ Winter Wonderland Open Farm Day at Howe Ranch â€” Discover the Magic!</h5>
          <div class="card-text text-center p-2 mb-3" style="background: linear-gradient(45deg, #dc3545, #28a745); color: white; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.2);">
            <strong>Christmas Eve, and New Year's Eve from 3pm-6pm</strong><br>
            <strong>ğŸ•“ Select your spot!</strong>
          </div>
          
          <p class="card-text">
            This holiday season, step into a twinkle-lit Winter Wonderland where baby Highland calves in velvet bows, alpacas in festive scarves, and jingling donkeys welcome you into a world of pure Christmas magic. Designed as a micro holiday festival, not a crowded fair, this magical experience lets your family wander, cuddle, decorate, and explore at your own pace â€” with every station included.
          </p>
          
          <p class="card-text">
            <strong>âœ¨ Your Winter Wonderland Pass Includes:</strong>
          </p>
          <ul class="card-text">
            <li>ğŸ® Snuggle sessions with our tiniest Highland calves in their winter fluff</li>
            <li>ğŸ“¸ Five enchanted holiday scenes, including snowy woodland and miniature Christmas villages</li>
            <li>ğŸ¬ Seasonal treats & hot drinks for kids and grown-ups alike</li>
            <li>ğŸª Cookie decorating with Mrs. Claus</li>
            <li>ğŸ… Visit & photo moment with Santa in his vintage red throne</li>
            <li>ğŸ Festive scavenger hunt with sweet surprises along the way</li>
            <li>ğŸ Meet the alpacas and mischievous mini goats (in their holiday scarves, of course)</li>
            <li>ğŸŒŸ No lines. No rushing. Real animal time and holiday magic â€” all included.</li>
          </ul>
          
          <div class="text-center p-2 mb-3" style="background: #fff3cd; border-radius: 8px; border: 2px dashed #ffc107;">
            <strong>ğŸ“ Passes limited: $35 per guest, kids under 1 are free</strong>
          </div>
          
          <p class="card-text">
            Celebrate the season somewhere unforgettable â€” cuddle a baby cow with snowflakes in its fur and capture magical moments you'll want on this year's Christmas card.
          </p>
          
          <div class="border p-3 mb-3" style="background: #f8f9fa; border-radius: 8px;">
            <div class="form-group mb-3">
              <label for="winter-event-date" class="form-label"><strong>Select a Date</strong></label>
              <select class="form-control" id="winter-event-date" required>
                <option value="">Choose a Date</option>
                <option value="christmas">Wednesday, December 24 (Christmas Eve)</option>
                <option value="newyears">Wednesday, December 31 (New Year's Eve)</option>
              </select>
            </div>
            
            
            <div class="form-group mb-3">
              <label for="winter-tickets" class="form-label"><strong>Party Size</strong></label>
              <input type="number" class="form-control" id="winter-tickets" placeholder="Enter number of guests" required min="1" max="10">
            </div>
            
            <button onclick="goToCheckout('winter')" class="btn btn-danger w-100" style="background: linear-gradient(45deg, #dc3545, #28a745); border: none; font-weight: bold; text-shadow: 1px 1px 1px rgba(0,0,0,0.3);">ğŸ„ Book Your Winter Wonderland Adventure ğŸ„</button>
          </div>
          
          <div class="text-center small" style="color: #6c757d;">
            <strong>ğŸŸ Advance Reservation Only â€¢ No Passes at Gate â€¢ Limited Capacity</strong>
          </div>
          
          <div class="text-center small mt-2" style="color: #6c757d;">
            By making a booking you agree to: I have read and agree with the <a href="#" target="_blank">Farm Visitor FAQs</a> and <a href="#" target="_blank">Farm Policies</a>.
          </div>
        </div>
      </div>

      <!-- Card 4: Holiday Minis Experience -->
      <div class="card border-warning" style="background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);">
        <img src="static/pic/minis2.jpg" class="card-img-top" alt="Holiday Minis at Howe Ranch" style="border-bottom: 3px solid #ffc107;">
        <div class="card-body">
          <h5 class="card-title text-warning" style="font-family: 'serif'; text-shadow: 1px 1px 2px rgba(0,0,0,0.1); color: #856404 !important;">ğŸ„ Holiday Minis + Mini Moo Winter Wonderland Experience</h5>
          <div class="card-text text-center p-2 mb-3" style="background: linear-gradient(45deg, #ffc107, #dc3545); color: white; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.2);">
            <strong>$350 per booking â€¢ Up to 10 guests â€¢ 12:45 PM â€“ 2:45 PM</strong>
          </div>
          
          <p class="card-text">
            Because families have been asking for a private holiday photo experience at Howe Ranch, we are opening a limited block of exclusive Holiday Minis paired with our magical Mini Moo cuddle experience.
          </p>
          
          <p class="card-text">
            <strong>âœ¨ This intimate, early-access offering includes:</strong>
          </p>
          <ul class="card-text">
            <li>ğŸ“¸ <strong>Holiday Minis:</strong> A professional holiday photo session</li>
            <li>ğŸ–¼ï¸ Two stunning edited portraits with our micro mini Highland calves
              <ul><li>Choose the Holiday Rose backdrop or Rustic Winter Farm backdrop</li></ul>
            </li>
            <li>ğŸ¼ Cuddle & bottle-feed our baby Mini Moos</li>
            <li>â„ï¸ Full Winter Wonderland access before the crowds arrive, including:
              <ul>
                <li>Santa's Hidden Village concessions</li>
                <li>Enchanted winter vignettes</li>
                <li>Cozy curated scenes perfect for memory-making</li>
              </ul>
            </li>
            <li>ğŸ Winter Wonderland scavenger hunt with prizes</li>
            <li>âœ¨ Enjoyed in a peaceful, relaxed setting reserved for Holiday Mini bookings only</li>
          </ul>
          
          <p class="card-text">
            This is a rare chance to enjoy Howe Ranch's Winter Wonderland in a small-group, crowd-free setting â€” created by popular request from our returning families.
          </p>
          
          <div class="border p-3 mb-3" style="background: #f8f9fa; border-radius: 8px;">
            <div class="form-group mb-3">
              <label for="holiday-event-date" class="form-label"><strong>Select a Date</strong></label>
              <select class="form-control" id="holiday-event-date" required>
                <option value="">Choose a Date</option>
                <option value="nov30">Sunday, November 30</option>
                <option value="dec7">Sunday, December 7</option>
                <option value="dec14">Sunday, December 14</option>
              </select>
            </div>
            
            <div class="form-group mb-3">
              <label for="holiday-tickets" class="form-label"><strong>Party Size</strong></label>
              <input type="number" class="form-control" id="holiday-tickets" placeholder="Enter number of guests (1-10)" required min="1" max="10">
            </div>
            
            <button onclick="goToCheckout('holiday')" class="btn btn-warning w-100" style="background: linear-gradient(45deg, #ffc107, #dc3545); border: none; font-weight: bold; text-shadow: 1px 1px 1px rgba(0,0,0,0.3); color: white;">ğŸ„ Book Your Holiday Minis Experience ğŸ„</button>
          </div>
          
          <div class="text-center small" style="color: #856404;">
            <strong>ğŸ“¸ Limited Bookings Per Session â€¢ Professional Photography Included</strong>
          </div>
          
          <div class="text-center small mt-2" style="color: #6c757d;">
            By making a booking you agree to: I have read and agree with the <a href="#" target="_blank">Farm Visitor FAQs</a> and <a href="#" target="_blank">Farm Policies</a>.
          </div>
        </div>
      </div>

<!-- Card 5: Private Mini Moo Experience -->
<div class="card">
  <img src="static/pic/privatemoome.jpg" class="card-img-top" alt="Private Mini Moo Experience at Howe Ranch">
  <div class="card-body">
    <h5 class="card-title">Private Mini Moo Experience at Howe Ranch</h5>

    <p class="card-text">
      Celebrate fall your way with a very special private cow cuddling and farm adventure for your date or group!
    </p>

    <ul class="card-text">
      <li>Squeeze our newest tiny fluffy Highland calves, brush and feed the mini herd, and meet alpacas, playful mini goats, donkeys, and new chicks.</li>
      <li>Bottle feeding of our youngest cow babies is included.</li>
      <li>Explore the farm, snap photos with tiny cow babies at festive backdrops, and take home a special souvenir bag.</li>
    </ul>

    <ul class="card-text">
      <li>ğŸ“ Available by appointment on select dates in October &amp; November (the farm is closed Nov. 17 - 29 while transforming to Winter Wonderland)</li>
      <li>ğŸ‘¥ For 1â€“10 guests max (infants under 1 are free)</li>
    </ul>

    <p class="card-text">$350 per private group (10 guests max ages 1+)</p>
    <p class="card-text">Come ready for fall fun and baby cow kisses!</p>

    <hr>

    <p class="card-text mb-1">By making a booking you agree to:</p>
    <ul class="card-text">
      <li>I have read and agree with the <a href="https://www.thehoweranch.com/_files/ugd/fca21d_07c8ac9947404371b3ff999e60d884f6.pdf" target="_blank">Farm Visitor FAQs</a> and <a href="https://www.thehoweranch.com/_files/ugd/fca21d_74995943378a482b99195b26463571b9.pdf" target="_blank">Farm Policies</a>.</li>
      <li>This private experience does not allow celebratory or food-related activities (e.g., no cake, decorations, etc.). We offer special gathering options that accommodate celebrations â€” see our Private Mini Moo Party on the <a href="https://www.thehoweranch.com/events" target="_blank">EVENTS</a> page.</li>
      <li>This experience is for 1â€“10 guests max (ages 1+). Groups over 10 may book a second tour at the same time, join an Open Farm Day, or reserve a private gathering.</li>
      <li>Experiences are transferable to other guests but cannot be refunded and cannot be rescheduled.</li>
    </ul>

    <a href="/select_tickets" class="btn btn-primary">Book Now</a>
  </div>
</div>

    </div> <!-- Close card-group -->
  </div> <!-- Close container -->

  <div class="text-center mt-3">
    <span>&uarr; Swipe for More &darr;</span>
  </div>

<script>

function goToCheckout(eventType) {
    let eventId, tickets;
    
    if (eventType === 'spooky') {
        eventId = document.getElementById('spooky-event-date').value;
        tickets = document.getElementById('spooky-tickets').value;
        
        if (!eventId || !tickets) {
            alert('Please select a date and enter the number of guests.');
            return;
        }
    } else if (eventType === 'halloween') {
        eventId = '612'; // Halloween Spectacular event ID
        tickets = document.getElementById('halloween-tickets').value;
        
        if (!tickets) {
            alert('Please enter the number of guests.');
            return;
        }
    } else if (eventType === 'winter') {
        const dateValue = document.getElementById('winter-event-date').value;
        tickets = document.getElementById('winter-tickets').value;
        
        if (!dateValue || !tickets) {
            alert('Please select a date and enter the number of guests.');
            return;
        }
        
        // Map dates directly to event IDs (Christmas and New Year's only have 3pm slots)
        const eventMapping = {
            'christmas': '684',
            'newyears': '685'
        };
        
        eventId = eventMapping[dateValue];
        
        if (!eventId) {
            alert('Please select a valid date.');
            return;
        }
    } else if (eventType === 'holiday') {
        const dateValue = document.getElementById('holiday-event-date').value;
        tickets = document.getElementById('holiday-tickets').value;
        
        if (!dateValue || !tickets) {
            alert('Please select a date and enter the number of guests.');
            return;
        }
        
        // Map dates to Holiday Minis event IDs (you'll need to update these after creating events)
        const holidayEventMapping = {
            'nov30': '945',
            'dec7': '946',
            'dec14': '947'
        };
        
        eventId = holidayEventMapping[dateValue];
        
        if (!eventId) {
            alert('Please select a valid date.');
            return;
        }
    }
    
    // Redirect to checkout with URL parameters
    window.location.href = `/checkout?event_id=${eventId}&tickets=${tickets}`;
}
</script>

{% endblock %}
