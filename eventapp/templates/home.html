{% extends "base.html" %}

{% block title %}Select Tickets{% endblock %}

{% block content %}

    <div class="container my-5">
        <div class="row">
            <div class="col-md-6 mx-auto">
                <div class="card shadow-sm mb-4">
                    <img src="static/pic/zoo.jpg" class="card-img-top" alt="Mini Highland Calf Experience">
                    <div class="card-body">
                        <h5 class="card-title">Howe Ranch Experiences</h5>
                        <p class="card-text">
                            Experience the magic of cow cuddling and calf kisses with our calves' first encounters,
                            where you get a chance to be part of our precious mini Highland calves' bottle-feeding routine.
                            Alongside them are their mini cow brothers who love to share cow kisses and offer calm moments to all,
                            and the rest of our friendly farm familyâ€”donkeys, goats, ducks, chickens, and the curious bunnies.
                        </p>
                        <a href="/select_tickets" class="btn btn-primary">Book Now</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Adding Christmas Party Selection -->
        <div class="row">
            <div class="col-md-6 mx-auto">
                <div class="card shadow-sm">
                    <img src="static/pic/Mary.jpg" class="card-img-top" alt="Mini Highland Calf Experience">
                    <div class="card-body">
                        <h5 class="card-title">Winter Wonderland</h5>
                        <p class="card-text">
                            Join us for a day filled with warmth, joy, and a step back in time as Howe Ranch transforms into a nostalgic winter wonderland. Explore six enchanting areas, each capturing the old-world charm of the season, where twinkling lights, cozy farm traditions, and timeless holiday cheer await in six enchanting areas. Explore the European Christmas Market and Enchanted Forest, delight in cuddling baby farm animals like Highland calves, fluffy alpacas, curious goats, and more. Enjoy live music and farm truck rides at the Holiday Harvest Grounds. Savor a seasonal buffet, sip on hot chocolate at the Christmas Market, and enjoy winter games with prizes.
                        </p>

                        <!-- Hardcoded form to submit Christmas party booking details -->
                        <form id="christmasPartyForm" action="{{ url_for('views.calculate_price') }}" method="post">
                            <!-- Hidden inputs for hardcoded event details -->
                            <input type="hidden" name="event_id" value="2">
                            <input type="hidden" name="tickets" id="partyTickets" value="">

                            <div class="form-group mb-3">
                                <label for="party-size" class="form-label">Party Size</label>
                                <input type="number" class="form-control" id="party-size" placeholder="Enter number of guests" required>
                            </div>

                            <button type="button" class="btn btn-success" id="bookChristmasPartyBtn">Book Christmas Party</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <script>
            document.getElementById('bookChristmasPartyBtn').addEventListener('click', function() {
                // Get party size input value
                var partySize = document.getElementById('party-size').value;

                // Check if the party size is valid
                if (partySize && partySize > 0) {
                    // Set the number of tickets in the hidden field
                    document.getElementById('partyTickets').value = partySize;

                    // Submit the form to calculate the price
                    document.getElementById('christmasPartyForm').submit();
                } else {
                    alert("Please enter a valid number of guests.");
                }
            });
        </script>

{% endblock %}