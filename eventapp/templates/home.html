{% extends "base.html" %}

{% block title %}Select Tickets{% endblock %}

{% block content %}
  <div class="text-center mt-3">
    <span>&uarr; Swipe for More &darr;</span>
  </div>
  <div class="container my-4">
    <h2 class="text-center mb-4">Upcoming Events</h2>

    <!-- Using Bootstrap's card-group to ensure all cards are handled uniformly -->
    <div class="card-group">

<!-- Card 1: Private Mini Moo Experience -->
<div class="card border-danger" style="background: linear-gradient(135deg, #fff0f3 0%, #ffeef5 100%);">
  <img src="static/pic/valentinesminimoo.jpg" class="card-img-top" alt="Private Mini Moo Experience at Howe Ranch" style="border-bottom: 3px solid #e91e63;">
  <div class="card-body">
    <h5 class="card-title text-danger" style="font-family: 'serif'; text-shadow: 1px 1px 2px rgba(0,0,0,0.1); color: #e91e63 !important;">ğŸ Private Mini Moo Experience at Howe Ranch</h5>
    
    <div class="text-center p-3 mb-3" style="background: linear-gradient(45deg, #e91e63, #f06292); color: white; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.2);">
      <h4 style="margin: 0; font-weight: bold;">ğŸ€ GIFT CERTIFICATES AVAILABLE! ğŸ€</h4>
    </div>

    <p class="card-text">
      The sweetest gift of the season â€” soft noses, baby cow cuddles & kisses, and bottle-feeding our fluffy Highland calves: Private Mini Moo Experiences are limited in Peak Season (Dec. - Feb.).
    </p>

    <ul class="card-text">
      <li>Squeeze our newest tiny fluffy Highland calves, brush and feed the mini herd, and meet alpacas, playful mini goats, donkeys, and new chicks.</li>
      <li>Bottle feeding of our youngest cow babies is included.</li>
      <li>Explore the farm, snap photos with tiny cow babies at professional backdrops, and take home a special souvenir bag.</li>
    </ul>

    <ul class="card-text">
      <li>ğŸ“ Available by appointment on select dates</li>
      <li>ğŸ‘¥ For 1â€“10 guests max (infants under 1 are free)</li>
    </ul>

    <div class="text-center p-2 mb-3" style="background: #ffebee; border-radius: 8px; border: 2px dashed #e91e63;">
      <strong>$350 per private group (10 guests max ages 1+)</strong>
    </div>
    
    <p class="card-text">Come ready for fall fun and baby cow kisses!</p>

    <hr>

    <p class="card-text mb-1">By making a booking you agree to:</p>
    <ul class="card-text">
      <li>I have read and agree with the <a href="https://www.thehoweranch.com/_files/ugd/fca21d_07c8ac9947404371b3ff999e60d884f6.pdf" target="_blank">Farm Visitor FAQs</a> and <a href="https://www.thehoweranch.com/_files/ugd/fca21d_74995943378a482b99195b26463571b9.pdf" target="_blank">Farm Policies</a>.</li>
      <li>This private experience does not allow celebratory or food-related activities (e.g., no cake, decorations, etc.). We offer special gathering options that accommodate celebrations â€” see our Private Mini Moo Party on the <a href="https://www.thehoweranch.com/events" target="_blank">EVENTS</a> page.</li>
      <li>This experience is for 1â€“10 guests max (ages 1+). Groups over 10 may book a second tour at the same time, join an Open Farm Day, or reserve a private gathering.</li>
      <li>Experiences are transferable to other guests but cannot be refunded and cannot be rescheduled.</li>
    </ul>

    <a href="/select_tickets" class="btn btn-danger w-100" style="background: linear-gradient(45deg, #e91e63, #f06292); border: none; font-weight: bold; text-shadow: 1px 1px 1px rgba(0,0,0,0.3);">ğŸ Book Your Private Experience / Purchase Gift Certificate</a>
  </div>
</div>

      <!-- Card 2: Season of Love Open Farm Day -->
      <div class="card border-danger" style="background: linear-gradient(135deg, #fff0f3 0%, #ffeef5 100%);">
        <img src="static/pic/valentinesopen.jpg" class="card-img-top" alt="Season of Love Open Farm Day at Howe Ranch" style="border-bottom: 3px solid #e91e63;">
        <div class="card-body">
          <h5 class="card-title text-danger" style="font-family: 'serif'; text-shadow: 1px 1px 2px rgba(0,0,0,0.1); color: #e91e63 !important;">â¤ï¸ Season of Love Open Farm Day at Howe Ranch â€” Celebrate the Magic of Togetherness</h5>
          <div class="card-text text-center p-2 mb-3" style="background: linear-gradient(45deg, #e91e63, #f06292); color: white; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.2);">
            <strong>Select Dates in January to February â€¢ 3pmâ€“6pm & 4pmâ€“7pm</strong><br>
            <strong>ğŸ•“ Select your date and time slot!</strong>
          </div>
          
          <p class="card-text">
            This Season of Love, step into a heart-lit Valentine's Town where baby Highland calves in flower crowns, alpacas in sweetheart scarves, and our adorable goats and donkeys welcome you into a world of pure whimsy. Designed as a micro love-themed festival â€” not a crowded fair â€” this enchanted experience lets you wander, cuddle, craft, and explore at your own pace, with every station included.
          </p>
          
          <p class="card-text">
            <strong>âœ¨ Your Season of Love Pass Includes:</strong>
          </p>
          <ul class="card-text">
            <li>ğŸ® Guided "Love Walks" with our baby Mini Moos through Valentine's Town</li>
            <li>ğŸ’Œ Several romantic + whimsical scenes for photos and memory-making (think: Serenity Garden, Cupid's Courtyard, Sweetheart Sanctuary,...)</li>
            <li>ğŸ¬ Seasonal treats and drinks for all ages</li>
            <li>ğŸ¨ Make-and-take crafts at our Love Letter & Keepsake Station</li>
            <li>ğŸ’• Mini Moos Love Trail scavenger hunt with prizes</li>
            <li>ğŸ Visits with alpacas and mini goats dressed in their Valentine best</li>
            <li>ğŸŒŸ No lines. No rushing. Just real connection, cozy moments, and magical time with the animals â€” all included.</li>
          </ul>
          
          <div class="text-center p-2 mb-3" style="background: #ffebee; border-radius: 8px; border: 2px dashed #e91e63;">
            <strong>ğŸ“ Passes limited: $35 per guest, kids under 1 are free</strong>
          </div>
          
          <p class="card-text">
            Celebrate love in all its forms â€” family, friendship, romance â€” as the baby Moos take you through an unforgettable Season of Love experience at the farm.
          </p>
          
          <div class="border p-3 mb-3" style="background: #f8f9fa; border-radius: 8px;">
            <div class="form-group mb-3">
              <label for="valentine-event-date" class="form-label"><strong>Select a Date</strong></label>
              <select class="form-control" id="valentine-event-date" required onchange="updateValentineTimeSlots()">
                <option value="">Choose a Date</option>
                <option value="valentine1">Sunday, January 11</option>
                <option value="valentine2">Sunday, January 25</option>
                <option value="valentine3">Sunday, February 8</option>
                <option value="valentine4">Saturday, February 14 (Valentine's Day)</option>
              </select>
            </div>
            
            <div class="form-group mb-3">
              <label for="valentine-time-slot" class="form-label"><strong>Select Time Slot</strong></label>
              <select class="form-control" id="valentine-time-slot" required disabled>
                <option value="">First select a date</option>
              </select>
            </div>
            
            <div class="form-group mb-3">
              <label for="valentine-tickets" class="form-label"><strong>Party Size</strong></label>
              <input type="number" class="form-control" id="valentine-tickets" placeholder="Enter number of guests" required min="1" max="10">
            </div>
            
            <button onclick="goToCheckout('valentine')" class="btn btn-danger w-100" style="background: linear-gradient(45deg, #e91e63, #f06292); border: none; font-weight: bold; text-shadow: 1px 1px 1px rgba(0,0,0,0.3);">ğŸ’• Book Your Season of Love Adventure ğŸ’•</button>
          </div>
          
          <div class="text-center small" style="color: #6c757d;">
            <strong>ğŸŸ Advance Reservation Only â€¢ No Passes at Gate â€¢ Limited Capacity</strong>
          </div>
          
          <div class="text-center small mt-2" style="color: #6c757d;">
            By making a booking you agree to: I have read and agree with the <a href="#" target="_blank">Farm Visitor FAQs</a> and <a href="#" target="_blank">Farm Policies</a>.
          </div>
        </div>
      </div>

      <!-- Card 3: Mini Moo Winter Wonderland Experience with Professional Photos -->
      <div class="card border-info" style="background: linear-gradient(135deg, #e0f2f1 0%, #b2dfdb 100%);">
        <img src="static/pic/minisnewtime.jpg" class="card-img-top" alt="Mini Moo Winter Wonderland Experience with Professional Photos" style="border-bottom: 3px solid #00695c;">
        <div class="card-body">
          <h5 class="card-title text-info" style="font-family: 'serif'; text-shadow: 1px 1px 2px rgba(0,0,0,0.1); color: #00695c !important;">ğŸ„ Mini Moo Winter Wonderland Experience with Professional Photos</h5>
          <div class="card-text text-center p-2 mb-3" style="background: linear-gradient(45deg, #00695c, #00897b); color: white; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.2);">
            <strong>$350 per booking â€¢ Up to 10 guests â€¢ 10:30 AM â€“ 12:30 PM</strong>
          </div>
          
          <p class="card-text">
            Because families have been asking for a holiday photo experience at Howe Ranch, we are opening a limited block of Holiday Minis paired with our magical Winter Wonderland Mini Moo experience.
          </p>
          
          <p class="card-text">
            <strong>âœ¨ This early-access offering includes:</strong>
          </p>
          <ul class="card-text">
            <li>ğŸ“¸ <strong>Holiday Minis:</strong> Professional photos curated with the micro mini Highland calves</li>
            <li>ğŸ–¼ï¸ Two stunning edited portraits with our micro mini Highland calves
              <ul><li>Depending on group size: Holiday Rose backdrop or Rustic Farm backdrop</li></ul>
            </li>
            <li>ğŸ¼ Cuddle & experience bottle-feeding of our baby Mini Moos</li>
            <li>â„ï¸ Full Winter Wonderland access, including:
              <ul>
                <li>Santa's Hidden Village concessions</li>
                <li>Enchanted winter vignettes</li>
                <li>Cozy curated scenes perfect for memory-making</li>
              </ul>
            </li>
            <li>ğŸ Winter Wonderland scavenger hunt with prizes</li>
          </ul>
          
          <p class="card-text">
            This is a rare chance to enjoy Howe Ranch's Winter Wonderland with photography, â€” created by popular request from our returning families.
          </p>
          
          <div class="border p-3 mb-3" style="background: #f8f9fa; border-radius: 8px;">
            <div class="form-group mb-3">
              <label for="holiday-event-date" class="form-label"><strong>Select a Date</strong></label>
              <select class="form-control" id="holiday-event-date" required>
                <option value="">Choose a Date</option>
                <option value="dec21">Sunday, December 21</option>
              </select>
            </div>
            
            <div class="form-group mb-3">
              <label for="holiday-tickets" class="form-label"><strong>Party Size</strong></label>
              <input type="number" class="form-control" id="holiday-tickets" placeholder="Enter number of guests (1-10)" required min="1" max="10">
            </div>
            
            <button onclick="goToCheckout('holiday')" class="btn btn-info w-100" style="background: linear-gradient(45deg, #00695c, #00897b); border: none; font-weight: bold; text-shadow: 1px 1px 1px rgba(0,0,0,0.3); color: white;">ğŸ„ Book Your Holiday Minis Experience ğŸ„</button>
          </div>
          
          <div class="text-center small" style="color: #00695c;">
            <strong>ğŸ“¸ Limited Bookings Per Session â€¢ Professional Photography Included</strong>
          </div>
          
          <div class="text-center small mt-2" style="color: #6c757d;">
            By making a booking you agree to: I have read and agree with the <a href="#" target="_blank">Farm Visitor FAQs</a> and <a href="#" target="_blank">Farm Policies</a>.
          </div>
        </div>
      </div>

    </div> <!-- Close card-group -->
  </div> <!-- Close container -->

  <div class="text-center mt-3">
    <span>&uarr; Swipe for More &darr;</span>
  </div>

<script>

function updateValentineTimeSlots() {
    const dateValue = document.getElementById('valentine-event-date').value;
    const timeSlotSelect = document.getElementById('valentine-time-slot');
    
    // Clear existing options
    timeSlotSelect.innerHTML = '';
    
    if (dateValue) {
        // Enable the time slot dropdown
        timeSlotSelect.disabled = false;
        
        // Add time slot options
        timeSlotSelect.innerHTML = `
            <option value="">Choose a Time Slot</option>
            <option value="3pm">3:00 PM - 6:00 PM</option>
            <option value="4pm">4:00 PM - 7:00 PM</option>
        `;
    } else {
        // Disable the time slot dropdown
        timeSlotSelect.disabled = true;
        timeSlotSelect.innerHTML = '<option value="">First select a date</option>';
    }
}

function goToCheckout(eventType) {
    let eventId, tickets;
    
    if (eventType === 'spooky') {
        eventId = document.getElementById('spooky-event-date').value;
        tickets = document.getElementById('spooky-tickets').value;
        
        if (!eventId || !tickets) {
            alert('Please select a date and enter the number of guests.');
            return;
        }
    } else if (eventType === 'halloween') {
        eventId = '612'; // Halloween Spectacular event ID
        tickets = document.getElementById('halloween-tickets').value;
        
        if (!tickets) {
            alert('Please enter the number of guests.');
            return;
        }
    } else if (eventType === 'valentine') {
        const dateValue = document.getElementById('valentine-event-date').value;
        const timeSlotValue = document.getElementById('valentine-time-slot').value;
        tickets = document.getElementById('valentine-tickets').value;
        
        if (!dateValue || !timeSlotValue || !tickets) {
            alert('Please select a date, time slot, and enter the number of guests.');
            return;
        }
        
        // Map combinations of dates and time slots to specific event IDs
        const eventMapping = {
            // Sunday, January 11
            'valentine1_3pm': '1182', // 3pm-6pm slot
            'valentine1_4pm': '1183', // 4pm-7pm slot
            // Sunday, January 25  
            'valentine2_3pm': '1184', // 3pm-6pm slot
            'valentine2_4pm': '1185', // 4pm-7pm slot
            // Sunday, February 8
            'valentine3_3pm': '1186', // 3pm-6pm slot
            'valentine3_4pm': '1187', // 4pm-7pm slot
            // Friday, February 14 (Valentine's Day)
            'valentine4_3pm': '1188', // 3pm-6pm slot
            'valentine4_4pm': '1189'  // 4pm-7pm slot
        };
        
        const eventKey = dateValue + '_' + timeSlotValue;
        eventId = eventMapping[eventKey];
        
        if (!eventId) {
            alert('Please select a valid date and time slot.');
            return;
        }
    } else if (eventType === 'holiday') {
        const dateValue = document.getElementById('holiday-event-date').value;
        tickets = document.getElementById('holiday-tickets').value;
        
        if (!dateValue || !tickets) {
            alert('Please select a date and enter the number of guests.');
            return;
        }
        
        // Map dates to Holiday Minis event IDs
        const holidayEventMapping = {
            'dec21': '1190'
        };
        
        eventId = holidayEventMapping[dateValue];
        
        if (!eventId) {
            alert('Please select a valid date.');
            return;
        }
    }
    
    // Redirect to checkout with URL parameters
    window.location.href = `/checkout?event_id=${eventId}&tickets=${tickets}`;
}
</script>

{% endblock %}
